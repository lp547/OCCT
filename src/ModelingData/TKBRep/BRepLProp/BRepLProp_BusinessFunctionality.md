# BRepLProp 业务功能说明

## 1. 模块概述
**BRepLProp** (Boundary Representation Local Properties) 是 Open CASCADE Technology (OCCT) 核心建模数据模块的一部分。它的主要业务目标是为边界表示（BRep）模型中的几何元素（边 Edge 和面 Face）提供精确的**局部微分几何属性**分析能力。

简单来说，当你有一个 3D 模型时，这个模块负责回答以下问题：
- “在这个边的这一具体位置，曲线弯曲得有多厉害（曲率）？”
- “在这个面的这一具体位置，垂直于面的方向是哪里（法线）？”
- “这两条边连接的地方是否平滑（连续性）？”

## 2. 核心业务能力

### 2.1 曲线（边）分析 (Curve Local Properties)
针对模型中的边（Edge），该模块提供以下分析能力：
- **位置计算**：获取曲线上任意参数点的 3D 坐标。
- **切线分析**：计算曲线在某点的切线方向（即曲线走向）。
- **曲率分析**：计算曲线在某点的曲率（弯曲程度）和曲率中心。这对于倒圆角（Fillet）等操作至关重要。
- **高阶导数**：提供一阶、二阶、三阶导数，用于高级形状分析和插值算法。

### 2.2 曲面（面）分析 (Surface Local Properties)
针对模型中的面（Face），该模块提供以下分析能力：
- **法线分析**：计算曲面某点的法向量（垂直方向），这是光照渲染、碰撞检测和偏移（Offset）操作的基础。
- **切平面分析**：计算 U 和 V 方向的切线，确定切平面。
- **主曲率分析**：计算曲面在该点的最大曲率和最小曲率及其方向。这有助于识别曲面是凸的、凹的还是鞍形的。
- **高斯曲率与平均曲率**：提供描述曲面内蕴几何性质的指标。
- **脐点检测**：判断某点是否为脐点（各个方向曲率相同，如球面上的一点）。

### 2.3 连续性分析 (Continuity Analysis)
- **连接平滑度**：分析两条曲线在连接点处的平滑程度（C0 位置连续, G1 切线连续, C1 一阶导数连续, G2 曲率连续等）。这是保证模型质量和后续加工（如数控加工）路径平滑的关键。

## 3. 应用场景
该模块是上层建模算法的“数学基础设施”，广泛应用于：
1.  **倒角与圆角 (Fillets & Chamfers)**：需要计算曲率和法线来生成滚球路径。
2.  **曲面偏移 (Offsetting)**：也就是生成薄壁壳体，需要精确的法线信息将点向外推移。
3.  **布尔运算 (Boolean Operations)**：在求交计算中，需要分析交线的切向和曲面的法向。
4.  **离散化与网格划分 (Meshing)**：在生成显示网格时，根据曲率大小决定网格的疏密程度（曲率大的地方网格密）。
5.  **质量检测**：检查导入模型的几何质量，是否存在不正常的尖锐折痕或不连续点。
